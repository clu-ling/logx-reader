# Annotations

The rules defined in the `logx-reader` grammars are run over annotated text, which is generated by a `processor` and stored in JSON. An example JSON for the text "The huskies howled all night." can be seen here:

```json
{
    "text": "The huskies howled all night.",
    "sentences": [
      {
        "words": [
          "The",
          "huskies",
          "howled",
          "all",
          "night",
          "."
        ],
        "startOffsets": [
          0,
          4,
          12,
          19,
          23,
          28
        ],
        "endOffsets": [
          3,
          11,
          18,
          22,
          28,
          29
        ],
        "raw": [
          "The",
          "huskies",
          "howled",
          "all",
          "night",
          "."
        ],
        "tags": [
          "DT",
          "NNS",
          "VBD",
          "DT",
          "NN",
          "."
        ],
        "lemmas": [
          "the",
          "husky",
          "howl",
          "all",
          "night",
          "."
        ],
        "entities": [
          "O",
          "O",
          "O",
          "O",
          "O",
          "O"
        ],
        "graphs": {
          "universal-enhanced": {
            "edges": [
              {
                "source": 4,
                "destination": 3,
                "relation": "det"
              },
              {
                "source": 2,
                "destination": 5,
                "relation": "punct"
              },
              {
                "source": 1,
                "destination": 0,
                "relation": "det"
              },
              {
                "source": 2,
                "destination": 1,
                "relation": "nsubj"
              },
              {
                "source": 2,
                "destination": 4,
                "relation": "nmod:tmod"
              }
            ],
            "roots": [
              2
            ]
          },
          "semantic-roles": {
            "edges": [],
            "roots": [
              1
            ]
          },
          "universal-basic": {
            "edges": [
              {
                "source": 4,
                "destination": 3,
                "relation": "det"
              },
              {
                "source": 2,
                "destination": 5,
                "relation": "punct"
              },
              {
                "source": 1,
                "destination": 0,
                "relation": "det"
              },
              {
                "source": 2,
                "destination": 1,
                "relation": "nsubj"
              },
              {
                "source": 2,
                "destination": 4,
                "relation": "nmod:tmod"
              }
            ],
            "roots": [
              2
            ]
          }
        }
      }
    ]
  }
```

## Processors

Currently there are three processors avalaible to the REST API: `logx`, `CluProcessor`, and `ProxiedProcessor`. The `logx` and `CluProcessor` are defined by `CluLab`. The `ProxiedProcessor` can be defined by the user and can be found under `reader/src/main/scala/org/parsertongue/mr/processors`. This allows for custom annotations to be used (ProxiedProcessor is currently defined to use SpaCy).
