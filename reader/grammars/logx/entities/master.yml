taxonomy: org/parsertongue/reader/grammars/logx/taxonomy.yml

vars:
  #pathPrefix: "file:///reader/grammars/logx"
  pathPrefix: "org/parsertongue/grammars/logx"
  wh-words-en: "how|that|what|whatever|when|whenever|where|which|who|whoever|whom|whose|why"

rules:

  #- import: ${pathPrefix}/entities/avoid.yml

######################################
# Concepts
######################################

  - name: "org-ner"
    label: Organization
    priority: 2+
    example: "DoD"
    type: token
    pattern: |
      [entity="B-ORG"]
      # extant mentions should take priority
      [entity="I-ORG" & !mention=/./]* 

  - name: "loc-ner"
    label: Location
    type: token
    pattern: |
      [entity="B-LOC"]
      [entity="I-LOC"]*

  # https://en.wikipedia.org/wiki/Twenty-foot_equivalent_unit
  - name: "units"
    label: Unit
    type: token
    pattern: |
      [lemma=/^(?i)TEU/]

  - name: "quantity"
    label: Quantity
    type: token
    pattern: |
      [word=/^\d/] (?=@Unit)

  # FIXME: introduce a more principled way of identify cargo
  - name: "cargo"
    label: Cargo
    type: token
    pattern: |
      [word=/(?i)frozen/] [tag=/^N/]+

  # see https://gitlab.logx.cloud/team/bbn/logx-reader/-/issues/1
  - name: "basic-query"
    label: Query
    type: token
    graph: "semantic-roles"
    pattern: |
      [tag=/^W/] []*? [incoming="A1"]

  # - name: "concept"
  #   label: Concept
  #   type: token
  #   pattern: |
  #     [entity="B-Concept"]
  #     [entity="I-Concept"]*

  # # *ility
  # - name: "ility-concept"
  #   label: Concept
  #   type: token
  #   pattern: |
  #     [tag=/^(JJ|NN)/]* [lemma=/ility$/ & entity=O & !mention=/./]

